<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head
	th:replace="~{fragments :: head(title=${dispositivo.idDispositivo != null ? 'Editar Dispositivo' : 'Novo Dispositivo'})}">
</head>

<body class="bg-dark text-light" style="min-height: 100vh; display: flex; flex-direction: column; align-items: center;">

	<div class="container text-center py-4 mb-4" style="background-color: #2c2c2c; border-radius: 10px;">
		<h1 class="mb-3" style="color: #8fbf49; font-size: 2rem;">
			<span th:text="${dispositivo.idDispositivo != null ? 'Editar Dispositivo' : 'Novo Dispositivo'}"></span>
		</h1>
	</div>

	<div class="container">
		<form th:action="@{/dispositivos}" th:object="${dispositivo}" method="post" class="needs-validation" novalidate>
			<input type="hidden" th:field="*{idDispositivo}">

			<div class="mb-3">
				<label for="nome" class="form-label">Nome</label>
				<input type="text" id="nome" class="form-control" th:field="*{nome}" required>
			</div>

			<div class="mb-3">
				<label for="tipo" class="form-label">Tipo</label>
				<input type="text" id="tipo" class="form-control" th:field="*{tipo}" required>
			</div>

			<div class="mb-3">
				<label for="status" class="form-label">Status</label>
				<select id="status" class="form-select" th:field="*{status}" required>
					<option value="" disabled selected>Selecione o status</option>
					<option value="Ativo" th:selected="${dispositivo.status == 'Ativo'}">Ativo</option>
					<option value="Inativo" th:selected="${dispositivo.status == 'Inativo'}">Inativo</option>
				</select>
			</div>

			<div class="mb-3">
				<label for="dataInstalacao" class="form-label">Data de Instalação</label>
				<input type="date" id="dataInstalacao" class="form-control" th:field="*{dataInstalacao}" required>
			</div>

			<div class="mb-3">
				<label for="potenciaNominal" class="form-label">Potência Nominal</label>
				<input type="number" step="0.01" id="potenciaNominal" class="form-control" th:field="*{potenciaNominal}" required>
			</div>

			<div class="mb-3">
			    <label for="filialId" class="form-label">Filial</label>
			    <select id="filialId" class="form-select" th:field="*{filialId}" required>
			        <option value="" disabled selected>Selecione a filial</option>
			        <option th:each="filial : ${filiais}" 
			                th:value="${filial.idFilial}" 
			                th:text="${filial.nome}">
			        </option>
			    </select>
			</div>

			<div class="text-center">
				<button type="submit" class="btn btn-success shadow px-4 py-2"
					style="background-color: #8fbf49; border: none;">
					<i class="bi bi-save"></i> Salvar
				</button>
				<a href="/dispositivos" class="btn btn-secondary shadow px-4 py-2">
					<i class="bi bi-arrow-left"></i> Voltar
				</a>
			</div>
		</form>
	</div>
</body>

</html>
